From 077ccdf38f193a073a7a8b3437e13ef374c29fd5 Mon Sep 17 00:00:00 2001
From: Clayton Smith <argilo@gmail.com>
Date: Tue, 20 Aug 2019 08:08:11 -0400
Subject: [PATCH 1/3] Fix AVX FMA rotator

---
 kernels/volk/volk_32fc_s32fc_x2_rotator_32fc.h | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/kernels/volk/volk_32fc_s32fc_x2_rotator_32fc.h b/kernels/volk/volk_32fc_s32fc_x2_rotator_32fc.h
index 88a1c1d..15d6cbe 100644
--- a/kernels/volk/volk_32fc_s32fc_x2_rotator_32fc.h
+++ b/kernels/volk/volk_32fc_s32fc_x2_rotator_32fc.h
@@ -690,7 +690,7 @@ static inline void volk_32fc_s32fc_x2_rotator_32fc_a_avx_fma(lv_32fc_t* outVecto
         yhp = _mm256_movehdup_ps(inc_Val);
 
         tmp1 = aVal;
-        tmp1p = ylp;
+        tmp1p = phase_Val;
 
         aVal = _mm256_shuffle_ps(aVal, aVal, 0xB1);
         phase_Val = _mm256_shuffle_ps(phase_Val, phase_Val, 0xB1);
@@ -788,7 +788,7 @@ static inline void volk_32fc_s32fc_x2_rotator_32fc_u_avx_fma(lv_32fc_t* outVecto
         yhp = _mm256_movehdup_ps(inc_Val);
 
         tmp1 = aVal;
-        tmp1p = ylp;
+        tmp1p = phase_Val;
 
         aVal = _mm256_shuffle_ps(aVal, aVal, 0xB1);
         phase_Val = _mm256_shuffle_ps(phase_Val, phase_Val, 0xB1);
-- 
2.20.1

